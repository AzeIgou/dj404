import{k as a,am as e,a1 as s,m as l,q as t,a2 as r,s as o,$ as n,p as i,o as u,b as p,a as m,w as f,g as c,x as d,F as _,r as b,Y as g,a4 as h,B as v,C as y,h as j,j as C,c as k,f as x,t as w,M as I,J as B,S as F}from"./index.f8f0a8a6.js";import{_ as S}from"./u-navbar.1284843c.js";import{_ as T}from"./message.vue_vue_type_script_setup_true_lang.2049d432.js";import{_ as z}from"./u-search.e7ce9eeb.js";import{_ as P}from"./u-input.f5a1625f.js";import{u as L,_ as $}from"./useTabSwiper.1a899c38.js";import{_ as V}from"./u-tag.2e01dec1.js";import{_ as q}from"./u-button.9b5620aa.js";import{_ as A}from"./pagination.vue_vue_type_script_setup_true_lang.a8071f8a.js";import{_ as D}from"./u-select.71281130.js";import{g as H}from"./go.241c4b18.js";import{g as J}from"./formal-approval.d876279a.js";import{w as M}from"./index.14235ccc.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import"./emitter.9c2dba95.js";import"./u-badge.ceeaba0f.js";import"./u-loadmore.9028c00d.js";import"./u-line.334abfea.js";const N=W(a({__name:"index",setup(a){h((a=>({97606564:d(N)})));const W=e(),{statusBarHeight:N}=s(),O=l(null),{tabCurrent:R,swiperCurrent:U,tabsChange:Y,transition:E,animationFinish:G}=L(O),K=l(null),Q=l(!1);t((()=>{r("refresh",(()=>K.value[R.value].reload()))})),o((()=>n("refresh")));const X=i((()=>[{name:"学生",api:J,selectLabel:"",params:{},searchInfo:I({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})},{name:"教师",api:J,selectLabel:"",params:{userType:1},searchInfo:I({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})}])),Z=a=>{X.value[R.value].searchInfo.partyCommitteeCode=a[0].value,X.value[R.value].searchInfo.partyBranchCode=a[1].value,X.value[R.value].selectLabel=a.map((a=>a.label)).join("-")};return(a,e)=>{const s=v(y("u-navbar"),S),l=v(y("message"),T),t=v(y("u-search"),z),r=j,o=v(y("u-input"),P),n=v(y("u-tabs-swiper"),$),i=B,h=v(y("u-tag"),V),I=v(y("u-button"),q),L=v(y("pagination"),A),J=F,N=C,aa=v(y("u-select"),D);return u(),p(_,null,[m(s,{title:"转正审批",background:{background:"var(--dj-themed-color)"},"border-bottom":!1,"title-color":"#fff","back-icon-color":"#fff"},null,8,["background"]),m(l,{navbarHeight:48}),m(r,{class:"container"},{default:f((()=>[c(" 搜索 "),m(r,{class:"px-2 pb-2 pt-1 bg--do-dj-themed-color"},{default:f((()=>[m(t,{placeholder:"请输入关键信息",shape:"square","action-style":{color:"#ffffff"},onSearch:e[0]||(e[0]=a=>d(X)[d(R)].searchInfo.realname=a)})])),_:1}),m(r,null,{default:f((()=>[m(o,{type:"select","input-align":"center",placeholder:"请选择党组织信息","model-value":d(X)[d(R)].selectLabel,"custom-style":{fontWeight:"bold"},onClick:e[1]||(e[1]=a=>Q.value=!0)},null,8,["model-value"])])),_:1}),c(" Swiper "),m(n,{ref_key:"uTabs",ref:O,list:d(X),current:d(R),onChange:d(Y),"is-scroll":!1,swiperWidth:"750","active-color":"#D13333","bg-color":"rgb(245, 247, 251)"},null,8,["list","current","onChange"]),c(" 列表 "),m(N,{class:"h-full",current:d(U),onTransition:d(E),onAnimationfinish:d(G)},{default:f((()=>[(u(!0),p(_,null,b(d(X),((a,e)=>(u(),k(J,{class:"swiper-item",key:e},{default:f((()=>[m(L,{ref_for:!0,ref_key:"paginationRef",ref:K,api:a.api,params:{...a.params,...a.searchInfo},option:{resultField:"data",pageSize:20}},{default:f((a=>[(u(!0),p(_,null,b(a.data,((a,e)=>(u(),k(r,{class:"p-4 bg-white m-4 rounded-20rpx",key:a.username,onClick:e=>d(H)(`/pages/fz-apply/formal-approval/detail?username=${a.username}`)},{default:f((()=>[m(r,{class:"w-full flex flex-col gap-2"},{default:f((()=>[m(r,{class:"flex justify-between w-full font-bold",style:{"font-size":"40rpx"}},{default:f((()=>[m(i,null,{default:f((()=>[x(w(a.realname),1)])),_:2},1024),d(M)[a.isFormalPm]?(u(),k(h,{key:0,text:d(M)[a.isFormalPm].description,type:d(M)[a.isFormalPm].type},null,8,["text","type"])):c("v-if",!0)])),_:2},1024),m(r,null,{default:f((()=>[x("班级："+w(a.stuClass),1)])),_:2},1024),m(r,null,{default:f((()=>[x("学号："+w(a.username),1)])),_:2},1024),m(r,null,{default:f((()=>[x("所属党支部："+w(a.partyBranch),1)])),_:2},1024),m(r,null,{default:f((()=>[x("党员大会接收日期："+w(a.pmTime),1)])),_:2},1024),m(r,null,{default:f((()=>[x("党委会日期："+w(a.formalMeetingDate),1)])),_:2},1024)])),_:2},1024),m(r,{class:"flex gap-2 justify-end mt-2"},{default:f((()=>[m(I,{size:"mini",shape:"circle",onClick:e=>d(H)(`/pages/fz-apply/formal-approval/submit?username=${a.username}&address=${JSON.stringify(a.preparatoryPartyInspectionForm)||""}`)},{default:f((()=>[x("上传《预备党员考察表》")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["api","params"])])),_:2},1024)))),128))])),_:1},8,["current","onTransition","onAnimationfinish"])])),_:1}),m(aa,{modelValue:d(Q),"onUpdate:modelValue":e[2]||(e[2]=a=>g(Q)?Q.value=a:null),mode:"mutil-column-auto",list:d(W).getPartyBranchCascader,onConfirm:Z},null,8,["modelValue","list"])],64)}}}),[["__scopeId","data-v-135f643f"]]);export{N as default};
