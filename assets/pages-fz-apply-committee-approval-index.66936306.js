import{k as a,am as e,a1 as s,m as r,p as t,q as l,a2 as o,s as i,$ as n,o as u,b as p,a as m,w as c,g as f,x as d,F as _,r as b,Y as h,a4 as g,B as v,C as y,h as C,j,c as k,f as w,t as x,M as S,S as B}from"./index.7dddb93e.js";import{_ as I}from"./u-navbar.2247389e.js";import{_ as z}from"./message.vue_vue_type_script_setup_true_lang.167ae55e.js";import{_ as T}from"./u-search.1cfa0f81.js";import{u as $,_ as A}from"./useTabSwiper.e59040ea.js";import{_ as F}from"./u-button.7f757efe.js";import{_ as J}from"./pagination.vue_vue_type_script_setup_true_lang.3e227710.js";import{_ as L}from"./u-select.bbd28a7e.js";import{g as N}from"./go.59004091.js";import{g as O}from"./committee-approval.6b58d74e.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./u-badge.3aac235a.js";import"./u-loadmore.c9a600cb.js";import"./u-line.65c408c3.js";const q=V(a({__name:"index",setup(a){g((a=>({"4e96b672":d(q)})));const V=e(),{statusBarHeight:q}=s(),D=r(null),{tabCurrent:H,swiperCurrent:P,tabsChange:M,transition:R,animationFinish:U}=$(D),W=r(null),Y=r(!1),E=t((()=>[{name:"学生",api:O,selectLabel:"",params:{},searchInfo:S({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})},{name:"教师",api:O,selectLabel:"",params:{userType:1},searchInfo:S({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})}]));l((a=>{o("refresh",(()=>W.value[H.value].reload()))})),i((()=>{n("refresh")}));const G=a=>{E.value[H.value].searchInfo.partyCommitteeCode=a[0].value,E.value[H.value].searchInfo.partyBranchCode=a[1].value,E.value[H.value].selectLabel=a.map((a=>a.label)).join("-")};return(a,e)=>{const s=v(y("u-navbar"),I),r=v(y("message"),z),t=v(y("u-search"),T),l=C,o=v(y("u-tabs-swiper"),A),i=v(y("u-button"),F),n=v(y("pagination"),J),g=B,S=j,$=v(y("u-select"),L);return u(),p(_,null,[m(s,{title:"党委审批",background:{background:"var(--dj-themed-color)"},"border-bottom":!1,"title-color":"#fff","back-icon-color":"#fff"},null,8,["background"]),m(r,{navbarHeight:48}),m(l,{class:"container"},{default:c((()=>[f(" 搜索 "),m(l,{class:"px-2 pb-2 pt-1 bg--do-dj-themed-color"},{default:c((()=>[m(t,{placeholder:"请输入关键信息",shape:"square","action-style":{color:"#ffffff"},onSearch:e[0]||(e[0]=a=>d(E)[d(H)].searchInfo.realname=a)})])),_:1}),f(" Swiper "),m(o,{ref_key:"uTabs",ref:D,list:d(E),current:d(H),onChange:d(M),"is-scroll":!1,swiperWidth:"750","active-color":"#D13333","bg-color":"rgb(245, 247, 251)"},null,8,["list","current","onChange"]),f(" 列表 "),m(S,{class:"h-full",current:d(P),onTransition:d(R),onAnimationfinish:d(U)},{default:c((()=>[(u(!0),p(_,null,b(d(E),((a,e)=>(u(),k(g,{class:"swiper-item",key:e},{default:c((()=>[m(n,{ref_for:!0,ref_key:"paginationRef",ref:W,api:a.api,params:{...a.params,...a.searchInfo},option:{resultField:"data",pageSize:20}},{default:c((a=>[(u(!0),p(_,null,b(a.data,((a,e)=>(u(),k(l,{class:"p-4 bg-white m-4 rounded-20rpx",key:a.username,onClick:e=>d(N)(`/pages/fz-apply/committee-approval/detail?data=${JSON.stringify(a)}`)},{default:c((()=>[m(l,{class:"w-full flex flex-col gap-2"},{default:c((()=>[m(l,{class:"flex justify-between w-full font-bold"},{default:c((()=>[w(x(a.realname),1)])),_:2},1024),0==d(H)?(u(),k(l,{key:0},{default:c((()=>[w("班级："+x(a.stuClass),1)])),_:2},1024)):f("v-if",!0),m(l,null,{default:c((()=>[w(x(0==d(H)?"学号：":"工号：")+x(a.username),1)])),_:2},1024),m(l,null,{default:c((()=>[w("所属党支部："+x(a.partyBranch),1)])),_:2},1024),m(l,null,{default:c((()=>[w("党员大会接收日期："+x(a.pmTime),1)])),_:2},1024),m(l,null,{default:c((()=>[w("党委会日期："+x(a.partyCommitteeDate),1)])),_:2},1024),m(l,{class:"ml-auto"},{default:c((()=>[m(i,{size:"mini",shape:"circle",onClick:e=>d(N)(`/pages/fz-apply/formal-approval/submit?username=${a.username}&type=0&address=${JSON.stringify(a.pmBasicSituationAddress)||""}`)},{default:c((()=>[w("上传《党员基本情况登记表》")])),_:2},1032,["onClick"]),m(i,{class:"ml-3",size:"mini",shape:"circle",onClick:e=>d(N)(`/pages/fz-apply/formal-approval/submit?username=${a.username}&type=1&address=${JSON.stringify(a.applicationPmAddress)||""}`)},{default:c((()=>[w("上传《入党志愿书》")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["api","params"])])),_:2},1024)))),128))])),_:1},8,["current","onTransition","onAnimationfinish"])])),_:1}),m($,{modelValue:d(Y),"onUpdate:modelValue":e[1]||(e[1]=a=>h(Y)?Y.value=a:null),mode:"mutil-column-auto",list:d(V).getPartyBranchCascader,onConfirm:G},null,8,["modelValue","list"])],64)}}}),[["__scopeId","data-v-e39f4abe"]]);export{q as default};
