import{k as a,a1 as e,m as s,M as t,p as r,q as o,a2 as i,s as n,$ as l,o as u,b as p,a as c,w as m,x as f,g,F as d,r as _,a4 as h,B as b,C as v,h as j,j as y,c as w,f as x,t as k,e as C,aD as T,D as A,S as N}from"./index.f8f0a8a6.js";import{_ as S}from"./u-navbar.1284843c.js";import{_ as $}from"./message.vue_vue_type_script_setup_true_lang.2049d432.js";import{_ as D}from"./u-subsection.a8a05788.js";import{u as F,_ as z}from"./useTabSwiper.1a899c38.js";import{_ as B,a as E}from"./u-cell-group.c1b9a19e.js";import{_ as H}from"./u-tag.2e01dec1.js";import{_ as R}from"./u-image.ae6c79b6.js";import{_ as q}from"./pagination.vue_vue_type_script_setup_true_lang.a8071f8a.js";import{g as I}from"./go.241c4b18.js";import{g as M}from"./thinking-report.646f4819.js";import{w as U}from"./index.14235ccc.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import"./u-badge.ceeaba0f.js";import"./u-loadmore.9028c00d.js";import"./u-line.334abfea.js";const G=W(a({__name:"list",setup(a){h((a=>({"0048f340":f(W)})));const{statusBarHeight:W}=e(),G=s(null),J=s(null),{tabCurrent:K,swiperCurrent:L,tabsChange:O,transition:P,animationFinish:Q}=F(G),V=[{name:"学生"},{name:"教师"}],X=t([{name:"待审核",originName:"待审核",api:M,params:{type:2},total:null},{name:"已审核",originName:"已审核",api:M,params:{type:3},total:null},{name:"全部",originName:"全部",params:{type:1},api:M,total:null}]),Y=a=>{X.forEach((e=>{e.params.userType=1==a?1:null}))},Z=r((()=>{const a=new Set;return(e,s)=>s==L.value||a.has(s)?(a.add(s),A.ResourceUrl+e):void 0})),aa=(a,e)=>(X[a].name=`${X[a].originName}(${e.totalSize})`,e);return o((()=>{i("refresh",(()=>{X.forEach(((a,e)=>{J.value[e].reload()}))}))})),n((()=>{l("refresh")})),(a,e)=>{const s=b(v("u-navbar"),S),t=b(v("message"),$),r=b(v("u-subsection"),D),o=b(v("u-tabs-swiper"),z),i=b(v("u-cell-item"),B),n=b(v("u-tag"),H),l=b(v("u-image"),R),h=j,A=b(v("u-cell-group"),E),F=b(v("pagination"),q),M=N,W=y;return u(),p(d,null,[c(s,{title:"思想汇报","border-bottom":!1}),c(t,{navbarHeight:48}),c(h,{class:"container"},{default:m((()=>[c(r,{list:V,"bg-color":"#fff","button-color":"#f5f7fb",onChange:Y}),c(o,{ref_key:"uTabs",ref:G,list:f(X),current:f(K),onChange:f(O),"is-scroll":!1,swiperWidth:"750","active-color":"#D13333","bg-color":"rgb(245, 247, 251)"},null,8,["list","current","onChange"]),g(" 列表 "),c(W,{class:"h-full",current:f(L),onTransition:f(P),onAnimationfinish:f(Q)},{default:m((()=>[g(" 全部思想汇报 "),(u(!0),p(d,null,_(f(X),((a,e)=>(u(),w(M,{class:"swiper-item",key:e},{default:m((()=>[c(F,{ref_for:!0,ref_key:"paginationRef",ref:J,api:a.api,params:a.params,"after-fetch":aa.bind(null,e)},{default:m((a=>[c(h,{class:"p-2 flex flex-col gap-2"},{default:m((()=>[(u(!0),p(d,null,_(a.data,(a=>(u(),w(h,{key:a.code,class:"rounded-40rpx overflow-x-scroll",onClick:e=>f(I)(`/pages/fz-apply/thinking-report/review?code=${a.code}&type=review`)},{default:m((()=>[c(A,null,{default:m((()=>[c(i,{title:"提交用户","hover-class":"none",arrow:!1},{"right-icon":m((()=>[x(k(a.realname),1)])),_:2},1024),c(i,{title:"提交日期","hover-class":"none",arrow:!1},{"right-icon":m((()=>[x(k(a.createtime),1)])),_:2},1024),c(i,{title:"思想汇报","hover-class":"none",arrow:!1},{"right-icon":m((()=>[c(n,{class:"absolute top-0 right-0 right-30 translate-y-1-sl-2",text:f(U)[a.status].description,type:f(U)[a.status].type,mode:"light"},null,8,["text","type"])])),label:m((()=>[c(h,{class:"flex gap-5 justify-center mt-2"},{default:m((()=>[(u(!0),p(d,null,_(a.thinkAddress,((s,t)=>(u(),w(l,{key:t,width:"180rpx",height:"180rpx",src:f(Z)(s,e),mode:"widthFix",onClick:C((e=>f(T)(a.thinkAddress,t)),["stop"])},null,8,["src","onClick"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1032,["api","params","after-fetch"])])),_:2},1024)))),128))])),_:1},8,["current","onTransition","onAnimationfinish"])])),_:1})],64)}}}),[["__scopeId","data-v-e510be44"]]);export{G as default};
