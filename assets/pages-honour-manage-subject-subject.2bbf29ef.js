import{k as e,L as a,a1 as t,am as s,m as l,M as o,a2 as c,o as r,b as u,a as i,w as n,x as p,F as d,r as m,Y as f,f as _,a4 as b,A as g,B as x,C as j,h,c as y,t as v,J as C}from"./index.f8f0a8a6.js";import{_ as k}from"./u-navbar.1284843c.js";import{_ as w}from"./message.vue_vue_type_script_setup_true_lang.2049d432.js";import{_ as B}from"./u-search.e7ce9eeb.js";import{_ as N}from"./u-input.f5a1625f.js";import{_ as V}from"./u-button.9b5620aa.js";import{_ as F}from"./pagination.vue_vue_type_script_setup_true_lang.a8071f8a.js";import{_ as z}from"./u-select.71281130.js";import{g as S}from"./go.241c4b18.js";import{s as H}from"./index.14235ccc.js";import{g as P,d as T}from"./subjecet.7e2bcdcf.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./emitter.9c2dba95.js";import"./u-loadmore.9028c00d.js";import"./u-line.334abfea.js";const $=U(e({__name:"subject",setup(e){b((e=>({d7b19c00:p($)})));const U=a(),{statusBarHeight:$}=t(),q=s(),A=l("");let E=o({projectName:"",isPlay:!0,partyCommitteeCode:void 0,partyBranchCode:void 0});const I=l(),J=l(!1),L=e=>{console.log(E),E.partyCommitteeCode=e[0].value,E.partyBranchCode=e[1].value,console.log(E),A.value=e.map((e=>e.label)).join("-")},M=()=>{I.value.reload()};return c("addSubjectSuccess",M),(e,a)=>{const t=x(j("u-navbar"),k),s=x(j("message"),w),l=x(j("u-search"),B),o=h,c=x(j("u-input"),N),b=C,$=x(j("u-button"),V),R=x(j("pagination"),F),W=x(j("u-select"),z);return r(),u(d,null,[i(t,{"title-color":"#FFF","is-back":!0,title:"课题管理",background:{background:"#E35959"},"border-bottom":!1,placeholder:!0,"back-icon-color":"#fff"}),i(s,{navbarHeight:48}),i(o,{class:"container"},{default:n((()=>[i(o,{class:"px-2 pb-2 pt-1 bg--do-dj-themed-color"},{default:n((()=>[i(l,{placeholder:"请输入关键信息",shape:"square","action-style":{color:"#ffffff"},modelValue:p(E).projectName,"onUpdate:modelValue":a[0]||(a[0]=e=>p(E).projectName=e)},null,8,["modelValue"])])),_:1}),i(o,null,{default:n((()=>[i(c,{type:"select","input-align":"center",placeholder:"请选择党组织信息","model-value":p(A),"custom-style":{fontWeight:"bold"},onClick:a[1]||(a[1]=e=>J.value=!0)},null,8,["model-value"])])),_:1}),i(R,{ref_key:"paginationRef",ref:I,params:p(E),api:p(P),option:{resultField:"data",pageSize:20},class:"flex-1 h-0"},{default:n((e=>[(r(!0),u(d,null,m(e.data,((e,a)=>(r(),y(o,{class:"flex p-4 bg-white m-4 rounded-20rpx",key:e.username,onClick:a=>p(S)(`/pages/honour-manage/subject/detail?code=${e.code}`)},{default:n((()=>[i(o,{class:"w-full flex flex-col gap-1"},{default:n((()=>[i(o,{class:"flex justify-between w-full"},{default:n((()=>[i(b,{class:"font-bold text-34rpx"},{default:n((()=>[_(v(e.projectName),1)])),_:2},1024)])),_:2},1024),i(o,{class:"text-10px"},{default:n((()=>[_(" 级别："+v(p(H)[e.level]&&p(H)[e.level].type),1)])),_:2},1024),i(o,{class:"text-10px"},{default:n((()=>[_(" 日期："+v(e.startTime),1)])),_:2},1024),i(o,{class:"text-10px"},{default:n((()=>[_(" 来源："+v(e.executor),1)])),_:2},1024),i(o,{class:"text-10px"},{default:n((()=>[_(" 党委："+v(e.partyCommitteeName),1)])),_:2},1024),i(o,{class:"text-10px"},{default:n((()=>[_(" 党支部："+v(e.partyBranchName),1)])),_:2},1024),i(o,{class:"flex justify-end gap-3"},{default:n((()=>[i($,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>p(S)(`/pages/honour-manage/subject/edit?code=${e.code}`)},{default:n((()=>[_(" 修改 ")])),_:2},1032,["onClick"]),i($,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>(async e=>{await U.confirm({content:"确定删除这条数据吗？"}),await T({code:e}),U.showTips({title:"删除成功",type:"success"}),M()})(e.code)},{default:n((()=>[_(" 删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["params","api"]),i(W,{modelValue:p(J),"onUpdate:modelValue":a[2]||(a[2]=e=>f(J)?J.value=e:null),mode:"mutil-column-auto",list:p(q).getPartyBranchCascader,onConfirm:L},null,8,["modelValue","list"])])),_:1}),i(o,{class:"w-full h-150rpx fixed bottom-0 z-999 flex justify-center items-center opacity-100"},{default:n((()=>[i($,{type:"primary","hover-class":"none",shape:"circle",class:"w-50-pes-",onClick:a[3]||(a[3]=e=>{g({url:"/pages/honour-manage/subject/add"})}),"custom-style":{background:"#e35959"}},{default:n((()=>[_("新增")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-c0557617"]]);export{$ as default};
