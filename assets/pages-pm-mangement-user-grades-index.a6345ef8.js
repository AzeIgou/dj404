import{o as e,c as l,w as t,I as a,n as s,h as r,k as n,b as i,r as d,F as c,B as u,C as o,e as f,a as p,f as v,t as x,a9 as w,aa as m,R as h,L as _,T as y,m as b,q as g,g as k,x as G}from"./index.f8f0a8a6.js";import{_ as L}from"./u-navbar.1284843c.js";import{a as S,_ as j}from"./message.vue_vue_type_script_setup_true_lang.2049d432.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const $=C({name:"u-th",props:{width:{type:[Number,String],default:""}},data:()=>({thStyle:{}}),created(){this.parent=!1},mounted(){if(this.parent=this.$u.$parent.call(this,"u-table"),this.parent){let e={};this.width&&(e.flex=`0 0 ${this.width}`),e.textAlign=this.parent.align,e.padding=this.parent.padding,e.borderBottom=`solid 1px ${this.parent.borderColor}`,e.borderRight=`solid 1px ${this.parent.borderColor}`,Object.assign(e,this.parent.thStyle),this.thStyle=e}}},[["render",function(n,i,d,c,u,o){const f=r;return e(),l(f,{class:"u-th",style:s([u.thStyle])},{default:t((()=>[a(n.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-bbfd599a"]]);const I=C({name:"u-tr"},[["render",function(s,n,i,d,c,u){const o=r;return e(),l(o,{class:"u-tr"},{default:t((()=>[a(s.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-5d28ffa9"]]);const E=C({name:"u-table",emits:["click","close"],props:{borderColor:{type:String,default:"#e4e7ed"},align:{type:String,default:"center"},padding:{type:String,default:"10rpx 6rpx"},fontSize:{type:[String,Number],default:28},color:{type:String,default:"#606266"},thStyle:{type:Object,default:()=>({})},bgColor:{type:String,default:"#ffffff"}},data:()=>({}),computed:{tableStyle(){let e={};return e.borderLeft=`solid 1px ${this.borderColor}`,e.borderTop=`solid 1px ${this.borderColor}`,e.backgroundColor=this.bgColor,e}}},[["render",function(n,i,d,c,u,o){const f=r;return e(),l(f,{class:"u-table",style:s([o.tableStyle])},{default:t((()=>[a(n.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-a8224c02"]]),B=C(n({__name:"index",props:{dataList:null},setup:a=>(s,n)=>{const h=r,_=u(o("u-icon"),S);return e(),l(h,{class:"flex flex-col"},{default:t((()=>[(e(!0),i(c,null,d(a.dataList,((a,s)=>(e(),l(h,{class:"w-full flex flex-col px-30rpx py-10rpx",key:s,onClick:f((e=>a.checked=!a.checked),["stop"])},{default:t((()=>[p(h,{class:"flex"},{default:t((()=>[p(h,{class:"w-full flex justify-between items-center"},{default:t((()=>[p(h,null,{default:t((()=>[v(x(a.key),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(a.currentGrades),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(a.endGrades),1)])),_:2},1024),p(h,{class:"mr-10rpx"},{default:t((()=>[v(x(a.maxGrades),1)])),_:2},1024)])),_:2},1024),p(h,{class:"w-30rpx"},{default:t((()=>[p(_,{name:"arrow-down"})])),_:1})])),_:2},1024),(e(!0),i(c,null,d(a.childList,((s,r)=>w((e(),l(h,{key:r,class:"flex flex-col",onClick:f((e=>s.checked=!s.checked),["stop"])},{default:t((()=>[p(h,{class:"flex py-10rpx"},{default:t((()=>{var a;return[p(h,{class:"w-full flex justify-between items-center"},{default:t((()=>[p(h,{class:"ml-10rpx"},{default:t((()=>[v(x(s.key),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(s.currentGrades),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(s.endGrades),1)])),_:2},1024),p(h,{class:"mr-10rpx"},{default:t((()=>[v(x(s.maxGrades),1)])),_:2},1024)])),_:2},1024),s.childList&&0!==(null==(a=s.childList)?void 0:a.length)?(e(),l(h,{key:0,class:"w-30rpx"},{default:t((()=>[p(_,{name:"arrow-down"})])),_:1})):(e(),l(h,{key:1,class:"w-30rpx v-else"}))]})),_:2},1024),(e(!0),i(c,null,d(s.childList,((a,r)=>w((e(),l(h,{key:r,class:"flex py-5rpx"},{default:t((()=>[p(h,{class:"w-full flex justify-between items-center py-20rpx"},{default:t((()=>[p(h,{class:"ml-20rpx w-140rpx text-ellipsis"},{default:t((()=>[v(x(a.key),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(a.currentGrades),1)])),_:2},1024),p(h,null,{default:t((()=>[v(x(a.endGrades),1)])),_:2},1024),p(h,{class:"mr-10rpx"},{default:t((()=>[v(x(a.maxGrades),1)])),_:2},1024)])),_:2},1024),p(h,{class:"w-30rpx"})])),_:2},1024)),[[m,s.checked]]))),128))])),_:2},1032,["onClick"])),[[m,a.checked]]))),128))])),_:2},1032,["onClick"])))),128))])),_:1})}}),[["__scopeId","data-v-c7a5a5b5"]]),H=n({__name:"index",setup(l){_(),y();let a=b([]),s=b(0);const n=e=>{e.childList?(e.checked=!1,e.childList.forEach((e=>{n(e)}))):e.checked=void 0},d=e=>{e.forEach((e=>{n(e),e.childList&&d(e.childList)}))};return g((async()=>{let e=await h.get({url:"/pm/pm-pioneer-task/person"});e.forEach((e=>{s.value+=e.endGrades})),d(e),a.value=e,console.log(s.value)})),(l,n)=>{const d=u(o("u-navbar"),L),f=u(o("message"),j),w=r,m=u(o("u-th"),$),h=u(o("u-tr"),I),_=u(o("u-table"),E);return e(),i(c,null,[p(d,{title:"我的成绩"}),k(" 如果有没有 navbar 就删除 navbarHeight"),p(f,{navbarHeight:48}),p(w,{class:"container"},{default:t((()=>[p(w,{class:"flex justify-center items-center my-50rpx text-24px"},{default:t((()=>[v(" 总分："+x(G(s)),1)])),_:1}),p(_,null,{default:t((()=>[p(h,null,{default:t((()=>[p(m,null,{default:t((()=>[v("分项")])),_:1}),p(m,null,{default:t((()=>[v("目前分数")])),_:1}),p(m,null,{default:t((()=>[v("最终分数")])),_:1}),p(m,null,{default:t((()=>[v("最高分")])),_:1})])),_:1})])),_:1}),p(B,{dataList:G(a)},null,8,["dataList"]),k(' <u-collapse\r\n      class="father"\r\n      @change="change"\r\n      v-for="(item, index) in itemList"\r\n      :key="index"\r\n      :accordion="false"\r\n    >\r\n      <u-collapse-item>\r\n        <template v-slot:title class="v-slot-cl-title">\r\n          <view class="w-full flex justify-between items-center px-30rpx">\r\n            <view>{{ item.key }}</view>\r\n            <view>{{ item.currentGrades }}</view>\r\n            <view>{{ item.endGrades }}</view>\r\n            <view>{{ item.maxGrades }}</view>\r\n          </view>\r\n        </template>\r\n        <u-collapse\r\n          @change="change"\r\n          v-for="(el, index) in item.childList"\r\n          :key="index"\r\n          :accordion="false"\r\n          ref="collapse"\r\n        >\r\n          <u-collapse-item>\r\n            <template v-slot:title-all class="v-slot-cl-title-all">\r\n              <view class="w-full flex justify-between items-center">\r\n                <view class="w-full flex justify-between items-center px-30rpx">\r\n                  <view class="ml-30rpx">{{ el.key }}</view>\r\n                  <view>{{ el.currentGrades }}</view>\r\n                  <view>{{ el.endGrades }}</view>\r\n                  <view>{{ el.maxGrades }}</view>\r\n                </view>\r\n                <view class="w-50rpx" v-if="el.childList">\r\n                  <u-icon name="arrow-down"></u-icon>\r\n                </view>\r\n                <view class="w-50rpx v-else" v-else> </view>\r\n              </view>\r\n            </template>\r\n            <u-collapse class="son" ref="collapse" :accordion="false" :arrow="false">\r\n              <u-collapse-item v-for="(va, index) in el.childList" :key="index">\r\n                <template v-slot:title class="v-slot-cl-title">\r\n                  <view class="w-full flex justify-between items-center px-30rpx">\r\n                    <view class="ml-30rpx">{{ va.key }}</view>\r\n                    <view>{{ va.currentGrades }}</view>\r\n                    <view>{{ va.endGrades }}</view>\r\n                    <view>{{ va.maxGrades }}</view>\r\n                  </view>\r\n                </template>\r\n              </u-collapse-item>\r\n            </u-collapse>\r\n          </u-collapse-item>\r\n        </u-collapse>\r\n      </u-collapse-item>\r\n    </u-collapse> ')])),_:1})],64)}}});export{H as default};
