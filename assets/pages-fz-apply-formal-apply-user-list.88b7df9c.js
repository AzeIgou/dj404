import{k as e,a1 as a,L as s,T as t,m as l,q as r,a2 as p,as as i,at as o,o as u,b as c,a as n,w as m,g as f,x as y,c as d,f as g,t as _,F as h,r as v,a4 as x,B as w,C as b,h as j,K as k,D as A}from"./index.7dddb93e.js";import{_ as T}from"./u-navbar.2247389e.js";import{_ as z}from"./message.vue_vue_type_script_setup_true_lang.167ae55e.js";import{_ as C,a as B}from"./u-cell-group.3ff6fc80.js";import{_ as D}from"./u-tag.00b1459e.js";import{_ as F}from"./u-image.079e795d.js";import{_ as H}from"./u-button.7f757efe.js";import{_ as I}from"./u-empty.5d529534.js";import{g as $}from"./go.59004091.js";import{w as q}from"./index.14235ccc.js";import{a as J,b as K,d as L}from"./formal-apply.22f29fa9.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const O=N(e({__name:"user-list",setup(e){x((e=>({a07b23f8:y(N)})));const{statusBarHeight:N}=a(),O=s(),R=t(),S=l(null),U=l("teacher"),E=l(""),G=async()=>{"student"==U.value?S.value=await J():"teacher"==U.value&&(S.value=await K({username:E.value}))};r((e=>{e&&e.type&&(U.value=e.type,e.username&&["teacher","partyBranch"].includes(U.value)&&(E.value=e.username)),G(),p("refresh",G)})),i((async()=>{G(),setTimeout((()=>{o()}),500)}));const M=async()=>{await O.confirm({content:"确定删除该转正申请？",title:"确定删除？"}),await L(),O.showTips({title:"删除成功",type:"success"}),G()};return(e,a)=>{const s=w(b("u-navbar"),T),t=w(b("message"),z),l=w(b("u-cell-item"),C),r=w(b("u-tag"),D),p=w(b("u-image"),F),i=j,o=w(b("u-button"),H),x=w(b("u-cell-group"),B),J=w(b("u-empty"),I),K=k;return u(),c(h,null,[n(s,{title:"转正申请"}),n(t,{navbarHeight:48}),n(i,{class:"container"},{default:m((()=>[f(" 列表 "),n(K,{"scroll-y":"",style:{height:"100%",width:"100%"},class:"scroll-y"},{default:m((()=>[y(S)?(u(),d(i,{key:0,class:"p-2 flex flex-col gap-2",onClick:a[1]||(a[1]=e=>{var a;return 0!=y(S).formalApplyType&&y($)(`/pages/fz-apply/formal-apply/review?username=${null==(a=y(R).userInfo)?void 0:a.username}&type=view`)})},{default:m((()=>[n(x,{class:"rounded-40rpx overflow-hidden"},{default:m((()=>[n(l,{"hover-class":"none",title:"提交日期",arrow:!1},{"right-icon":m((()=>[g(_(y(S).formalApplyDate),1)])),_:1}),n(l,{"hover-class":"none",class:"image_cell",title:"转正申请",arrow:!1},{"right-icon":m((()=>[n(r,{class:"absolute top-0 right-0 translate-x--1-sl-2 translate-y-1-sl-2",text:y(q)[y(S).formalApplyType].description,type:y(q)[y(S).formalApplyType].type,mode:"light"},null,8,["text","type"])])),label:m((()=>[n(i,{class:"flex gap-4 mt-2"},{default:m((()=>[(u(!0),c(h,null,v(y(S).formalApplyAddress,((e,a)=>(u(),d(p,{key:a,width:"175rpx",height:"175rpx",src:y(A).ResourceUrl+e,mode:"widthFix"},null,8,["src"])))),128))])),_:1}),"student"==y(U)?(u(),d(i,{key:0,class:"flex justify-end gap-5 mt-2"},{default:m((()=>[[10,-20].includes(y(S).formalApplyType)?(u(),d(o,{key:0,size:"medium",shape:"circle","custom-style":{padding:"0 40rpx"},type:"warning",plain:"",onClick:a[0]||(a[0]=e=>y($)(`/pages/fz-apply/formal-apply/submit?type=edit&originAddress=${JSON.stringify(y(S).formalApplyAddress)}`)),class:"plain"},{default:m((()=>[g("修改")])),_:1})):f("v-if",!0),10==y(S).formalApplyType?(u(),d(o,{key:1,size:"medium",shape:"circle","custom-style":{padding:"0 40rpx"},type:"error",onClick:M,plain:"",class:"plain"},{default:m((()=>[g("删除")])),_:1})):f("v-if",!0)])),_:1})):f("v-if",!0)])),_:1})])),_:1})])),_:1})):(u(),d(J,{key:1,text:"暂无数据",mode:"list",class:"v-else text-暂无数据"}))])),_:1})])),_:1}),"student"==y(U)?(u(),d(i,{key:0,class:"w-full h-150rpx fixed bottom-0 z-999 flex justify-center items-center opacity-100"},{default:m((()=>[n(o,{type:"primary","hover-class":"none",shape:"circle",class:"w-50-pes-","custom-style":{background:"#e35959"},onClick:a[2]||(a[2]=e=>y($)("/pages/fz-apply/formal-apply/submit?type=add"))},{default:m((()=>[g("新增")])),_:1})])),_:1})):f("v-if",!0)],64)}}}),[["__scopeId","data-v-c047f89e"]]);export{O as default};
