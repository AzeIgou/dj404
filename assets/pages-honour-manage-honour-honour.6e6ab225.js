import{k as e,L as a,am as o,a1 as t,m as l,M as s,a2 as r,o as u,b as n,a as c,w as i,x as d,F as p,r as m,Y as f,f as _,a4 as g,B as h,C as y,h as b,c as j,t as k,J as x}from"./index.7dddb93e.js";import{_ as v}from"./u-navbar.2247389e.js";import{_ as C}from"./message.vue_vue_type_script_setup_true_lang.167ae55e.js";import{_ as w}from"./u-search.1cfa0f81.js";import{_ as B}from"./u-input.4a92a7e0.js";import{_ as V}from"./u-button.7f757efe.js";import{_ as F}from"./pagination.vue_vue_type_script_setup_true_lang.3e227710.js";import{_ as z}from"./u-select.bbd28a7e.js";import{g as H}from"./go.59004091.js";import{g as N,d as U}from"./Honour.bb0d5fc3.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import"./emitter.9c2dba95.js";import"./u-loadmore.c9a600cb.js";import"./u-line.65c408c3.js";const S=P(e({__name:"honour",setup(e){g((e=>({ae46afee:d(T)})));const P=a(),S=o(),{statusBarHeight:T}=t(),$=l("");let q=s({keyword:"",isPlay:!1,partyCommitteeCode:"",partyBranchCode:""});const E=l(),I=l(!1),J=e=>{q.partyCommitteeCode=e[0].value,q.partyBranchCode=e[1].value,$.value=e.map((e=>e.label)).join("-")},L=()=>{E.value.reload()};return r("addHonourSuccess",L),(e,a)=>{const o=h(y("u-navbar"),v),t=h(y("message"),C),l=h(y("u-search"),w),s=b,r=h(y("u-input"),B),g=x,T=h(y("u-button"),V),M=h(y("pagination"),F),R=h(y("u-select"),z);return u(),n(p,null,[c(o,{"title-color":"#FFF","is-back":!0,title:"荣誉管理",background:{background:"#E35959"},"border-bottom":!1,placeholder:!0,"back-icon-color":"#fff"}),c(t,{navbarHeight:48}),c(s,{class:"container"},{default:i((()=>[c(s,{class:"px-2 pb-2 pt-1 bg--do-dj-themed-color"},{default:i((()=>[c(l,{placeholder:"请输入关键信息",shape:"square","action-style":{color:"#ffffff"},modelValue:d(q).keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>d(q).keyword=e)},null,8,["modelValue"])])),_:1}),c(s,null,{default:i((()=>[c(r,{type:"select","input-align":"center",placeholder:"请选择党组织信息","model-value":d($),"custom-style":{fontWeight:"bold"},onClick:a[1]||(a[1]=e=>I.value=!0)},null,8,["model-value"])])),_:1}),c(M,{ref_key:"paginationRef",ref:E,params:d(q),api:d(N),option:{resultField:"data",pageSize:20},class:"flex-1 h-0"},{default:i((e=>[(u(!0),n(p,null,m(e.data,((e,a)=>(u(),j(s,{class:"flex p-4 bg-white m-4 rounded-20rpx",key:e.username,onClick:a=>d(H)(`/pages/honour-manage/honour/detail?code=${e.code}`)},{default:i((()=>[c(s,{class:"w-full flex flex-col gap-1"},{default:i((()=>[c(s,{class:"flex justify-between w-full"},{default:i((()=>[c(g,{class:"font-bold text-34rpx"},{default:i((()=>[_(k(e.gloryName),1)])),_:2},1024)])),_:2},1024),c(s,null,{default:i((()=>[_(" 获奖单位："+k(e.awardUnit),1)])),_:2},1024),c(s,null,{default:i((()=>[_(" 日期："+k(e.gloryTime),1)])),_:2},1024),c(s,null,{default:i((()=>[_(" 党委："+k(e.partyCommitteeName),1)])),_:2},1024),c(s,null,{default:i((()=>[_(" 党支部："+k(e.partyBranchName),1)])),_:2},1024),c(s,{class:"flex justify-end gap-3"},{default:i((()=>[c(T,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>d(H)(`/pages/honour-manage/honour/edit?code=${e.code}`)},{default:i((()=>[_(" 修改 ")])),_:2},1032,["onClick"]),c(T,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>(async e=>{await P.confirm({content:"确定删除这条数据吗？"}),await U({code:e}),P.showTips({title:"删除成功",type:"success"}),L()})(e.code)},{default:i((()=>[_(" 删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["params","api"]),c(R,{modelValue:d(I),"onUpdate:modelValue":a[2]||(a[2]=e=>f(I)?I.value=e:null),mode:"mutil-column-auto",list:d(S).getPartyBranchCascader,onConfirm:J},null,8,["modelValue","list"])])),_:1}),c(s,{class:"w-full h-150rpx fixed bottom-0 z-999 flex justify-center items-center opacity-100"},{default:i((()=>[c(T,{type:"primary","hover-class":"none",shape:"circle",class:"w-50-pes-",onClick:a[3]||(a[3]=e=>d(H)("/pages/honour-manage/honour/add")),"custom-style":{background:"#e35959"}},{default:i((()=>[_("新增")])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-2f41470e"]]);export{S as default};
