import{k as e,T as a,a1 as s,am as l,m as t,q as r,a2 as n,s as i,$ as o,p as u,o as d,b as p,a as c,w as f,g as m,x as _,F as g,c as y,f as v,t as h,r as b,Y as k,a4 as C,B as x,C as j,J as z,h as w,j as A,M as $,S}from"./index.7dddb93e.js";import{_ as I}from"./u-navbar.2247389e.js";import{_ as T,a as B}from"./message.vue_vue_type_script_setup_true_lang.167ae55e.js";import{_ as F}from"./u-search.1cfa0f81.js";import{_ as L}from"./u-button.7f757efe.js";import{_ as R}from"./u-input.4a92a7e0.js";import{u as Y,_ as J}from"./useTabSwiper.e59040ea.js";import{_ as N}from"./u-tag.00b1459e.js";import{_ as V}from"./pagination.vue_vue_type_script_setup_true_lang.3e227710.js";import{_ as q}from"./u-select.bbd28a7e.js";import{g as H}from"./go.59004091.js";import{g as O,a as P}from"./develop.f2386993.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import"./emitter.9c2dba95.js";import"./u-badge.3aac235a.js";import"./u-loadmore.c9a600cb.js";import"./u-line.65c408c3.js";const D=W(e({__name:"index",setup(e){C((e=>({"046d9d6a":_(D)})));const W=a(),{statusBarHeight:D}=s(),M=l(),U=t(null),E=t(null),{tabCurrent:G,swiperCurrent:K,tabsChange:Q,transition:X,animationFinish:Z}=Y(E),ee=t(null),ae=t(!1);r((e=>{e&&e.type&&(U.value=+e.type),n("refresh",(()=>ee.value[G.value].reload()))})),i((()=>o("refresh")));const se=[O,P],le=u((()=>[{name:"学生",api:null!=U.value?se[U.value]:void 0,selectLabel:"",params:{},searchInfo:$({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})},{name:"教师",api:null!=U.value?se[U.value]:void 0,selectLabel:"",params:{userType:1},searchInfo:$({partyCommitteeCode:void 0,partyBranchCode:void 0,realname:void 0})}])),te=e=>{le.value[G.value].searchInfo.partyCommitteeCode=e[0].value,le.value[G.value].searchInfo.partyBranchCode=e[1].value,le.value[G.value].selectLabel=e.map((e=>e.label)).join("-")};return(e,a)=>{const s=x(j("u-navbar"),I),l=x(j("message"),T),t=x(j("u-search"),F),r=x(j("u-icon"),B),n=z,i=x(j("u-button"),L),o=w,u=x(j("u-input"),R),C=x(j("u-tabs-swiper"),J),$=x(j("u-tag"),N),Y=x(j("pagination"),V),O=S,P=A,D=x(j("u-select"),q);return d(),p(g,null,[c(s,{title:"发展对象",background:{background:"var(--dj-themed-color)"},"border-bottom":!1,"title-color":"#fff","back-icon-color":"#fff"},null,8,["background"]),c(l,{navbarHeight:48}),c(o,{class:"container"},{default:f((()=>[m(" 搜索 "),c(o,{class:"px-2 pb-2 pt-1 bg--do-dj-themed-color flex"},{default:f((()=>{var e;return[c(t,{class:"flex-1",placeholder:"请输入关键信息",shape:"square","show-action":!1,onSearch:a[0]||(a[0]=e=>_(le)[_(G)].searchInfo.realname=e)}),(null==(e=_(W).userInfo)?void 0:e.dataRange)<=3?(d(),p(g,{key:0},[null!=_(U)?(d(),y(i,{key:0,class:"h-full","custom-style":{backgroundColor:"var(--dj-themed-color)",height:"100%"},onClick:a[1]||(a[1]=e=>U.value=1-_(U)),type:"error",size:"mini"},{default:f((()=>[c(r,{name:"/static/icon/common/change.svg",size:"28"}),c(n,null,{default:f((()=>[v(h(0==_(U)?"去教师审核":"去支部审核"),1)])),_:1})])),_:1},8,["custom-style"])):m("v-if",!0)],64)):m("v-if",!0)]})),_:1}),m(" 筛选 "),0==_(U)?(d(),y(o,{key:0,class:"flex items-center gap-1"},{default:f((()=>[c(u,{class:"flex-1",type:"select","input-align":"center",placeholder:"请选择党组织信息","model-value":_(le)[_(G)].selectLabel,"custom-style":{fontWeight:"bold"},onClick:a[2]||(a[2]=e=>ae.value=!0)},null,8,["model-value"])])),_:1})):m("v-if",!0),m(" Swiper "),c(o,{class:"flex items-center"},{default:f((()=>[c(C,{class:"flex-1",ref_key:"uTabs",ref:E,list:_(le),current:_(G),onChange:_(Q),"is-scroll":!1,swiperWidth:"750","active-color":"#D13333","bg-color":"rgb(245, 247, 251)"},null,8,["list","current","onChange"])])),_:1}),m(" 列表 "),c(P,{class:"h-full",current:_(K),onTransition:_(X),onAnimationfinish:_(Z)},{default:f((()=>[(d(!0),p(g,null,b(_(le),((e,a)=>(d(),y(O,{class:"swiper-item",key:a},{default:f((()=>[c(Y,{ref_for:!0,ref_key:"paginationRef",ref:ee,api:e.api,params:{...e.params,...e.searchInfo},option:{resultField:"data",pageSize:20}},{default:f((e=>[(d(!0),p(g,null,b(e.data,((e,a)=>(d(),y(o,{class:"flex p-4 bg-white m-4 rounded-20rpx",key:e.username,onClick:a=>_(H)(`/pages/fz-apply/develop/detail?username=${e.username}&type=${_(U)}&wait=${e.thinkingReportContinued}`)},{default:f((()=>[c(o,{class:"w-full flex flex-col gap-1"},{default:f((()=>[c(o,{class:"flex justify-between w-full"},{default:f((()=>[c(n,{class:"font-bold text-34rpx"},{default:f((()=>[v(h(e.realname),1)])),_:2},1024),c($,{text:e.determineFzTime?"发展对象":"未为发展对象",type:e.determineFzTime?"error":"info",mode:"light"},null,8,["text","type"])])),_:2},1024),c(o,null,{default:f((()=>[v("班级："+h(e.stuClass),1)])),_:2},1024),c(o,null,{default:f((()=>[v("学号："+h(e.username),1)])),_:2},1024),0==_(U)?(d(),p(g,{key:0},[c(o,null,{default:f((()=>[v("党校学习情况："+h(e.fzStuLearn?"完成":"未完成"),1)])),_:2},1024),c(o,null,{default:f((()=>[v("政审是否上传："+h(e.zsAddress?"是":"否"),1)])),_:2},1024),e.isYspass?(d(),y(o,{key:0},{default:f((()=>[v("预审是否通过："+h(1==e.isYspass?"是":"否"),1)])),_:2},1024)):m("v-if",!0)],64)):1==_(U)?(d(),p(g,{key:1},[c(o,{class:"flex gap-2"},{default:f((()=>[c(n,null,{default:f((()=>[v("思想汇报："+h(e.thinkingReportNbr)+"份",1)])),_:2},1024),c(n,null,{default:f((()=>[v(" 待审核："+h(e.thinkingReportContinued)+"份 ",1)])),_:2},1024)])),_:2},1024),c(o,null,{default:f((()=>[v("是否提交转正申请："+h(e.isFormalApply?"是":"否"),1)])),_:2},1024)],64)):m("v-if",!0),0==_(U)?(d(),y(o,{key:2,class:"flex justify-end gap-3"},{default:f((()=>[c(i,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>_(H)(`/pages/fz-apply/develop/zs-upload?zsAddress=${e.zsAddress?JSON.stringify(e.zsAddress):""}&username=${e.username}`)},{default:f((()=>[v(" 政审 ")])),_:2},1032,["onClick"]),c(i,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>_(H)(`/pages/fz-apply/develop/ys-upload?ysAddress=${e.ysAddress?JSON.stringify(e.ysAddress):""}&username=${e.username}&isPass=${e.isYspass}`),disabled:!(e.fzStuLearn&&e.zsAddress)},{default:f((()=>[v(" 预审 ")])),_:2},1032,["onClick","disabled"])])),_:2},1024)):1==_(U)?(d(),y(o,{key:3,class:"flex justify-end gap-3"},{default:f((()=>[c(i,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>_(H)(`/pages/fz-apply/formal-apply/user-list?username=${e.username}&type=teacher`)},{default:f((()=>[v(" 转正申请 ")])),_:2},1032,["onClick"]),c(i,{size:"mini",shape:"circle","custom-style":{padding:"0 30rpx"},onClick:a=>_(H)(`/pages/fz-apply/thinking-report/user-list?username=${e.username}&type=teacher`)},{default:f((()=>[v(" 思想汇报 ")])),_:2},1032,["onClick"])])),_:2},1024)):m("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["api","params"])])),_:2},1024)))),128))])),_:1},8,["current","onTransition","onAnimationfinish"])])),_:1}),c(D,{modelValue:_(ae),"onUpdate:modelValue":a[3]||(a[3]=e=>k(ae)?ae.value=e:null),mode:"mutil-column-auto",list:_(M).getPartyBranchCascader,onConfirm:te},null,8,["modelValue","list"])],64)}}}),[["__scopeId","data-v-374e46f7"]]);export{D as default};
