import{o as e,c as t,w as r,a,n as i,b as o,F as l,r as s,d as n,e as u,f as c,t as d,g as f,i as m,h as p,S as g,j as h,k as b,u as y,l as v,m as x,p as _,q as C,s as k,$ as w,v as j,x as P,y as S,z as R,A as N,B,C as L,D as z}from"./index.f8f0a8a6.js";import{_ as M}from"./u-navbar.1284843c.js";import{_ as A,a as $}from"./message.vue_vue_type_script_setup_true_lang.2049d432.js";import{_ as F}from"./u-search.e7ce9eeb.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as q,a as I}from"./u-grid.25e0b393.js";import{_ as E}from"./u-badge.ceeaba0f.js";import{_ as H}from"./u-section.d12c4215.js";import{_ as T,a as U}from"./u-cell-group.c1b9a19e.js";import{g as Y}from"./go.241c4b18.js";import{g as D}from"./index.df7c957e.js";const G=O({name:"u-swiper",emits:["click","change"],props:{list:{type:Array,default:()=>[]},title:{type:Boolean,default:!1},indicator:{type:Object,default:()=>({})},borderRadius:{type:[Number,String],default:8},interval:{type:[String,Number],default:3e3},mode:{type:String,default:"round"},height:{type:[Number,String],default:250},indicatorPos:{type:String,default:"bottomCenter"},effect3d:{type:Boolean,default:!1},effect3dPreviousMargin:{type:[Number,String],default:50},autoplay:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},circular:{type:Boolean,default:!0},imgMode:{type:String,default:"aspectFill"},name:{type:String,default:"image"},bgColor:{type:String,default:"#f3f4f6"},current:{type:[Number,String],default:0},titleStyle:{type:Object,default:()=>({})}},watch:{list(e,t){e.length!==t.length&&(this.uCurrent=0)},current(e){this.uCurrent=e}},data(){return{uCurrent:this.current}},computed:{justifyContent(){return"topLeft"==this.indicatorPos||"bottomLeft"==this.indicatorPos?"flex-start":"topCenter"==this.indicatorPos||"bottomCenter"==this.indicatorPos?"center":"topRight"==this.indicatorPos||"bottomRight"==this.indicatorPos?"flex-end":void 0},titlePaddingBottom(){let e=0;return"none"==this.mode?"12rpx":(e=["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"==this.mode?"60rpx":["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"!=this.mode?"40rpx":"12rpx",e)},elCurrent(){return Number(this.current)}},methods:{listClick(e){this.$emit("click",e)},change(e){let t=e.detail.current;this.uCurrent=t,this.$emit("change",t)},animationfinish(e){}}},[["render",function(b,y,v,x,_,C){const k=m,w=p,j=g,P=h;return e(),t(w,{class:"u-swiper-wrap",style:i({borderRadius:`${v.borderRadius}rpx`})},{default:r((()=>[a(P,{current:C.elCurrent,onChange:C.change,onAnimationfinish:C.animationfinish,interval:v.interval,circular:v.circular,duration:v.duration,autoplay:v.autoplay,"previous-margin":v.effect3d?v.effect3dPreviousMargin+"rpx":"0","next-margin":v.effect3d?v.effect3dPreviousMargin+"rpx":"0",style:i({height:v.height+"rpx",backgroundColor:v.bgColor})},{default:r((()=>[(e(!0),o(l,null,s(v.list,((o,l)=>(e(),t(j,{class:"u-swiper-item",key:l},{default:r((()=>[a(w,{class:n(["u-list-image-wrap",[_.uCurrent!=l?"u-list-scale":""]]),onClick:u((e=>C.listClick(l)),["stop","prevent"]),style:i({borderRadius:`${v.borderRadius}rpx`,transform:v.effect3d&&_.uCurrent!=l?"scaleY(0.9)":"scaleY(1)",margin:v.effect3d&&_.uCurrent!=l?"0 20rpx":0})},{default:r((()=>[a(k,{class:"u-swiper-image",src:o[v.name]||o,mode:v.imgMode},null,8,["src","mode"]),v.title&&o.title?(e(),t(w,{key:0,class:"u-swiper-title u-line-1",style:i([{"padding-bottom":C.titlePaddingBottom},v.titleStyle])},{default:r((()=>[c(d(o.title),1)])),_:2},1032,["style"])):f("v-if",!0)])),_:2},1032,["onClick","class","style"])])),_:2},1024)))),128))])),_:1},8,["current","onChange","onAnimationfinish","interval","circular","duration","autoplay","previous-margin","next-margin","style"]),a(w,{class:"u-swiper-indicator",style:i({top:"topLeft"==v.indicatorPos||"topCenter"==v.indicatorPos||"topRight"==v.indicatorPos?"12rpx":"auto",bottom:"bottomLeft"==v.indicatorPos||"bottomCenter"==v.indicatorPos||"bottomRight"==v.indicatorPos?"12rpx":"auto",justifyContent:C.justifyContent,padding:"0 "+(v.effect3d?"74rpx":"24rpx")})},{default:r((()=>["rect"==v.mode?(e(!0),o(l,{key:0},s(v.list,((r,a)=>(e(),t(w,{class:n(["u-indicator-item-rect",{"u-indicator-item-rect-active":a==_.uCurrent}]),key:a},null,8,["class"])))),128)):f("v-if",!0),"dot"==v.mode?(e(!0),o(l,{key:1},s(v.list,((r,a)=>(e(),t(w,{class:n(["u-indicator-item-dot",{"u-indicator-item-dot-active":a==_.uCurrent}]),key:a},null,8,["class"])))),128)):f("v-if",!0),"round"==v.mode?(e(!0),o(l,{key:2},s(v.list,((r,a)=>(e(),t(w,{class:n(["u-indicator-item-round",{"u-indicator-item-round-active":a==_.uCurrent}]),key:a},null,8,["class"])))),128)):f("v-if",!0),"number"==v.mode?(e(),t(w,{key:3,class:"u-indicator-item-number"},{default:r((()=>[c(d(_.uCurrent+1)+"/"+d(v.list.length),1)])),_:1})):f("v-if",!0)])),_:1},8,["style"])])),_:1},8,["style"])}],["__scopeId","data-v-13201633"]]),J=O(b({__name:"index",setup(i){const u=y(),m=v();x(!0);const g=x(3),h=["国家级项目","省级项目","校级项目"],b=x(null),O=["20230926/swiper_1.png","20230926/swiper_2.png","20230926/swiper_3.png","20230926/swiper_4.png"],J=_((()=>{let e=u.serviceList.reduce(((e,t)=>e.concat(t.children)),[]),t=m.getFrequentMenu.reduce(((t,r)=>{const a=e.findIndex((e=>+e.id==r)),i=e[a];return e.splice(a,1),i?t.concat(i):t}),[]);return e=[...t.reverse(),...e].slice(0,9),e.push({icon:"/more.svg",name:"更多",url:"/pages/service/index",id:""}),e})),K=e=>{console.log(J.value[e]),e!=J.value.length-1?N({url:J.value[e].url}):R({url:J.value[e].url})};return C((async()=>{b.value=await D({pageNum:1,pageSize:2})})),k((()=>{w("login")})),j((()=>({title:"打开金职党建E网通",desc:"分享页面的内容",path:"/pages/home/index"}))),(i,u)=>{const m=B(L("u-navbar"),M),y=B(L("message"),A),v=B(L("u-search"),F),x=p,_=B(L("u-swiper"),G),C=B(L("u-icon"),$),k=B(L("u-grid-item"),q),w=B(L("u-grid"),I),j=B(L("u-badge"),E),R=B(L("u-section"),H),N=B(L("u-cell-item"),T),D=B(L("u-cell-group"),U);return e(),o(l,null,[a(m,{"is-back":!1,title:"首页","title-color":"#fff",background:{background:"var(--dj-themed-color)"},"border-bottom":!1},null,8,["background"]),a(y,{navbarHeight:48}),a(x,{class:"container"},{default:r((()=>[f(" 搜索 "),a(x,{class:"px-2 pb-2 pt-1",style:{"background-color":"var(--dj-themed-color)"}},{default:r((()=>[a(v,{placeholder:"信息查询",shape:"square",disabled:"","action-style":{color:"#ffffff"},onClick:u[0]||(u[0]=e=>P(Y)("/pages/home/search")),class:"disabled"})])),_:1}),f(" Swiper "),a(_,{list:O.map((e=>P(z).ResourceUrl+e)),height:"400"},null,8,["list"]),f(" 菜单 "),a(x,{class:"mb-2"},{default:r((()=>[a(w,{col:5,border:!1,onClick:K},{default:r((()=>[(e(!0),o(l,null,s(P(J),((i,o)=>(e(),t(k,{index:o,key:o},{default:r((()=>[""!=i.icon?(e(),t(C,{key:0,name:"/static/icon/service"+i.icon,size:80},null,8,["name"])):f("v-if",!0),a(x,{class:"text-center truncate w-full"},{default:r((()=>[c(d(i.name),1)])),_:2},1024)])),_:2},1032,["index"])))),128))])),_:1})])),_:1}),f(" 待办 "),P(b)?(e(),t(x,{key:0,class:"flex flex-col",onClick:u[1]||(u[1]=e=>P(Y)("/pages/home/todo"))},{default:r((()=>[a(x,{class:"relative px-2 mb-2"},{default:r((()=>{var e,t;return[f(" offset设置图标位置 "),a(j,{count:null==(e=P(b))?void 0:e.total,offset:[2,575-10*((null==(t=P(b))?void 0:t.total).toString().length-1)],type:"error"},null,8,["count","offset"]),a(R,{"show-line":!1,title:"我的待办","font-size":"32","sub-title":"查看全部"})]})),_:1}),a(D,{border:!1},{default:r((()=>[f(" 代办列表 "),(e(!0),o(l,null,s(P(b).records,((r,a)=>(e(),t(N,{key:a,"title-style":{fontSize:28,"font-weight":600,color:"#3d3d3d"},"label-style":{"font-weight":"normal",color:"#797979"},"value-style":{color:"#797979"},"border-bottom":!1,icon:"/static/icon/home/todo.svg",title:r.title,label:r.currentApproveUsername,value:r.createtime,arrow:!1},null,8,["title","label","value"])))),128))])),_:1}),a(x,{class:"relative w--lfl-96-pes--lfr- h--lfl-170rpx-lfr- mx-auto rounded--lfl-10rpx-lfr-",style:{"background-size":"cover","background-image":"url('http://10.2.51.186:8092/resource/img/Homebackground.a101072.jpg')"}},{default:r((()=>[S("h3",{class:"text-center mt-25rpx text-white text-50rpx"},"金职党建E网通"),a(x,{class:"blur-sm absolute bottom-0 h-60rpx bg--wn-245FC5-sl-50 w-full flex justify-around py-10rpx text-white font-thin"},{default:r((()=>[(e(),o(l,null,s(h,((e,t)=>S("span",{key:t,class:n({tapStyle:P(g)==t}),onClick:e=>(e=>{let t;g.value=e,t&&clearTimeout(t),t=setTimeout((()=>{g.value=3}),100)})(t)},d(e),11,["onClick"]))),64))])),_:1})])),_:1})])),_:1})):f("v-if",!0)])),_:1}),a(x,{class:"h-96"})],64)}}}),[["__scopeId","data-v-f7b2fa12"]]);export{J as default};
